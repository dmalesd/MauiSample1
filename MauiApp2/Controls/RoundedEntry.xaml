<?xml version="1.0" encoding="utf-8" ?>
<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="MauiApp2.Controls.RoundedEntry"
             x:Name="this">
    <ContentView.Resources>
        <Style x:Key="BorderlessEntryStyle" TargetType="Entry">
            <Setter Property="BackgroundColor" Value="Transparent" />
            <Setter Property="TextColor" Value="{AppThemeBinding Light={StaticResource Black}, Dark={StaticResource White}}" />
            <Setter Property="PlaceholderColor" Value="{AppThemeBinding Light={StaticResource Gray500}, Dark={StaticResource Gray400}}" />
            <Setter Property="VerticalOptions" Value="Center" />
            <Setter Property="Margin" Value="0" />
            <!-- Important: These remove the line and default styling -->
            <Setter Property="ClearButtonVisibility" Value="WhileEditing" />
        </Style>
    </ContentView.Resources>

    <Border BindingContext="{x:Reference this}"
            Stroke="{Binding BorderColor}"
            StrokeThickness="1"
            BackgroundColor="{Binding BackgroundColor}">
        <Border.StrokeShape>
            <RoundRectangle CornerRadius="{Binding CornerRadius}"/>
        </Border.StrokeShape>
        <Entry x:Name="EntryField"
               Style="{StaticResource BorderlessEntryStyle}"
               Text="{Binding Text, Mode=TwoWay}"
               Placeholder="{Binding Placeholder}"
               IsPassword="{Binding IsPassword}"
               Keyboard="{Binding Keyboard}"
               TextChanged="OnTextChanged"
               IsEnabled="{Binding IsEnabled}"
               IsReadOnly="{Binding IsReadOnly}"
               Margin="12,0"
               VerticalOptions="Center"
               HorizontalOptions="Fill"/>
    </Border>
</ContentView>